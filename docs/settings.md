[Оглавление](index.md)

Особенности конфигурирования и использования
============================================

* **PathChk** - путь к исходным файлам на выходе из АРМ КБР 
(обычно `exg\chk\`). Программа первым делом забирает все файлы оттуда к себе 
в хранилище, распределяя по датам атрибута `EDDate`.
* **PathXML** - путь для хранилища генерируемых файлов - там будет построено 
дерево подпапок по стадиям и в них по датам в `ГГГГ-ММ-ДД\` согласно `EDDate`. 
Файлы генерятся однократно по мере поступления. Ключ `-f` заставляет 
перегенерировать все заново. До 11:00 (можно изменить ключом `-s`) 
осуществляется обработка предыдущего рабочего дня. Ключ `-d` позволяет указать 
любую другую дату (рекомендуется совместно с `-f`).
* **PathABS** - путь для импорта в АБС - там будет построено дерево подпапок 
по спискам `List1`, `List2` и `List0`, куда попадут все прочие, что не совпали 
с номерами или конто из этих списков. Перепакованные файлы для импорта 
платежей формируются нарастающим итогом в течение дня для отказоустойчивости 
(переход на резервный компьютер не приводит к потере данных). В саму эту папку 
будут сложены все прочие неплатежные файлы - "поток сознания".
* **List1** - список полных 20-значных номеров счетов особых клиентов 
(например, обслуживаемых "под приход"), с разделителем по переводу строк 
(список в столбик).
* **List2** - список начальных знаков (конто, более или менее) по плану счетов, 
соответствующих банковским счетам, например, с разделителем по переводу строк 
(список в столбик). Как вариант - эти списки можно вынести в отдельные файлы - 
тогда в `app.exe.config` надо указать имена этих файлов со знаком `@` в начале.
* Если адреса email не указаны, то соответствующей рассылки не производится; 
допускается указывать несколько адресов через запятую.
* Пароль в секции 
[mailSettings](https://msdn.microsoft.com/en-us/library/w355a94k(v=vs.100).aspx) 
должен быть закодирован в `Base64` (в отличие от стандартных настроек) для 
защиты от утечки при просмотре оператором. Не забудьте прописать свой SMTP host 
`IP` или DNS `name` (если пусто - отправки email не производятся) и `имя 
отправителя` также. Альтернативно, вместо отправки через SMTP, можно 
использовать метод `PickupDirectory`.
* Логи пишутся в подпапку хранилища в формате `log\ГГГГММДД_app.log` - 
мимикрия, приближенная под формат логов АРМ КБР).
* Полноту логов и отображения в консоли можно регулировать стандартными 
настройками в секции 
[system.diagnostics](https://msdn.microsoft.com/en-us/library/1txedc80(v=vs.100).aspx).
